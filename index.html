<!DOCTYPE html>
<html>
<head>
  <title>Meu Mapa do Mapbox</title>
  <meta charset='utf-8' />
  <meta name='viewport' content='width=device-width, initial-scale=1.0' />
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.1/mapbox-gl.css' rel='stylesheet' />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
    }
    #map {
      width: 100%;
      height: 100%;
    }
    #layer-menu {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1;
      background-color: #ffffff;
      padding: 10px;
      border-radius: 5px;
    }
    .layer-option {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <div id='map'></div>
  <div id='layer-menu'>
    <div class='layer-option'>
      <input type='checkbox' id='localidades' />
      <label for='localidades'>Localidades</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='pontos_mapbox' />
      <label for='pontos_mapbox'>Pontos MapBox</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='sedes_municipais' />
      <label for='sedes_municipais'>Sedes Municipais</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='aeroportos' />
      <label for='aeroportos'>Aeroportos e Pistas de Pouso</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='atrativos' />
      <label for='atrativos'>Atrativos</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='canal_sertao' />
      <label for='canal_sertao'>Canal do Sertão</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='corpos_dagua' />
      <label for='corpos_dagua'>Corpos D'água</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='dunas' />
      <label for='dunas'>Dunas</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='usinas_hidreletricas' />
      <label for='usinas_hidreletricas'>Usinas Hidrelétricas</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='moldura_alagoas' />
      <label for='moldura_alagoas'>Moldura Alagoas</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='municipios_2022' />
      <label for='municipios_2022'>Municípios 2022</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='portos_ancoradoros' />
      <label for='portos_ancoradoros'>Portos e Ancoradouros</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='recifes' />
      <label for='recifes'>Recifes</label>
    </div>
    <div class='layer-option'>
      <input type='checkbox' id='rodovias' />
      <label for='rodovias'>Rodovias</label>
    </div>
  </div>
  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiYnJhbmRhbzg2IiwiYSI6ImNsaXhib3k4MzA1ZmUzcHIxN3J0Z3k2N2YifQ.-g2ePtoRTVJ7ezZd8LqVkA';
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/brandao86/clixi4sz002k301pd9icehzkl',
      center: [-36.900, -9.60],
      zoom: 8
    });

    map.on('load', function () {
      var layers = [
        { id: 'localidades', url: 'https://raw.githubusercontent.com/brandao86/index/main/Localidades.geojson', type: 'line', color: '#ff0000' },
        { id: 'pontos_mapbox', url: 'https://raw.githubusercontent.com/brandao86/index/main/Pontos_MapBox.geojson', type: 'fill', color: '#00ff00' },
        { id: 'sedes_municipais', url: 'https://raw.githubusercontent.com/brandao86/index/main/Sedes_municipais.geojson', type: 'circle', color: '#0000ff' },
        { id: 'aeroportos', url: 'https://raw.githubusercontent.com/brandao86/index/main/aeroportos-e-pistas-de-pouso_ibge-2022.geojson', type: 'circle', color: '#ff00ff' },
        { id: 'atrativos', url: 'https://raw.githubusercontent.com/brandao86/index/main/atrativos.json', type: 'circle', color: '#ffff00' },
        { id: 'canal_sertao', url: 'https://raw.githubusercontent.com/brandao86/index/main/canal_do_sertao.geojson', type: 'line', color: '#00ffff' },
        { id: 'corpos_dagua', url: 'https://raw.githubusercontent.com/brandao86/index/main/corpos_dagua.geojson', type: 'fill', color: '#ff00ff' },
        { id: 'dunas', url: 'https://raw.githubusercontent.com/brandao86/index/main/dunas.geojson', type: 'fill', color: '#ffff00' },
        { id: 'usinas_hidreletricas', url: 'https://raw.githubusercontent.com/brandao86/index/main/geojson-usinas-hidreletricas-de-alagoas.geojson', type: 'circle', color: '#00ffff' },
        { id: 'moldura_alagoas', url: 'https://raw.githubusercontent.com/brandao86/index/main/moldura_alagoas.geojson', type: 'line', color: '#ff0000' },
        { id: 'municipios_2022', url: 'https://raw.githubusercontent.com/brandao86/index/main/municipios_2022.geojson', type: 'fill', color: '#00ff00' },
        { id: 'portos_ancoradoros', url: 'https://raw.githubusercontent.com/brandao86/index/main/portos_ancoradoros.geojson', type: 'circle', color: '#0000ff' },
        { id: 'recifes', url: 'https://raw.githubusercontent.com/brandao86/index/main/recifes.geojson', type: 'fill', color: '#ff00ff' },
        { id: 'rodovias', url: 'https://raw.githubusercontent.com/brandao86/index/main/rodovias.geojson', type: 'line', color: '#ffff00' },
      ];

      layers.forEach(function (layer) {
        var checkbox = document.getElementById(layer.id);
        checkbox.addEventListener('change', function () {
          if (this.checked) {
            map.addSource(layer.id, {
              type: 'geojson',
              data: layer.url
            });

            map.addLayer({
              id: layer.id,
              type: layer.type,
              source: layer.id,
              paint: layer.type === 'line' ? {
                'line-color': layer.color,
                'line-width': 2
              } : layer.type === 'fill' ? {
                'fill-color': layer.color,
                'fill-opacity': 0.5
              } : {
                'circle-color': layer.color,
                'circle-radius': 6
              }
            });

            var bounds = map.querySourceFeatures(layer.id).reduce(function (bounds, feature) {
              return bounds.extend(feature.geometry.coordinates);
            }, new mapboxgl.LngLatBounds());

            map.fitBounds(bounds, { padding: 50 });
          } else {
            map.removeLayer(layer.id);
            map.removeSource(layer.id);
          }
        });
      });
    });
  </script>
</body>
</html>
